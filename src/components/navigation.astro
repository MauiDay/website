---
import { config } from "../../mauiday.config.mjs";
import loadConfig from "../configLoader";

const confConfig = await loadConfig();
---

<nav
  class="fixed top-0 text-white w-full z-50 glass-nav border-b border-white/10"
>
  <div class="container mx-auto px-6 h-20 flex items-center justify-between">
    <div class="flex items-center gap-2">
      <a href="/" class="cursor-pointer">
        <img
          src={`/images/logo-lighttext.svg`}
          alt="MAUI Day Logo"
          class="h-10"
        />
      </a>
    </div>

    <div class="hidden lg:flex items-center gap-8">
      <a
        class="text-sm font-medium hover:text-pink-400 transition-colors"
        href="/">Home</a>
      {
        confConfig.hasCfs ? (
          <a
            class="text-sm font-medium hover:text-pink-400 transition-colors"
            href="/#call-for-speakers"
          >
            Call for Speakers
          </a>
        ) : (
          <>
            {confConfig.hasAnnouncedSpeakers && (
              <a
                class="text-sm font-medium hover:text-pink-400 transition-colors"
                href="/#speakers"
              >
                Speakers
              </a>
            )}
            {confConfig.hasAnnouncedSchedule && (
              <a
                class="text-sm font-medium hover:text-pink-400 transition-colors"
                href="/#schedule"
              >
                Schedule
              </a>
            )}
          </>
        )
      }
      <a
        class="text-sm font-medium hover:text-pink-400 transition-colors"
        href="/#location">Location</a>
      <a
        class="text-sm font-medium hover:text-pink-400 transition-colors"
        href="/#sponsors">Sponsors</a>
      <a
        class="text-sm font-medium hover:text-pink-400 transition-colors"
        href="/code-of-conduct">Code of Conduct</a>
      <a
        class="text-sm font-medium hover:text-pink-400 transition-colors"
        href="/gallery">Gallery</a>
      <a
        class="text-sm font-medium hover:text-pink-400 transition-colors"
        href="/archive">Archive</a>
    </div>

    <div class="hidden lg:flex text-lg items-center gap-4">
      <a
        aria-label="X (Twitter)"
        class="hover:text-pink-400 transition-colors"
        href={config.X_LINK}
        target="_blank"
      >
        <i class="fa-brands fa-x-twitter"></i>
      </a>
      <a
        aria-label="LinkedIn"
        class="hover:text-pink-400 transition-colors"
        href={config.LINKEDIN_LINK}
        target="_blank"
      >
        <i class="fa-brands fa-linkedin"></i>
      </a>
      <a
        aria-label="GitHub"
        class="hover:text-pink-400 transition-colors"
        href={config.GITHUB_LINK}
        target="_blank"
      >
        <i class="fa-brands fa-github"></i>
      </a>
      <a
        aria-label="BlueSky"
        class="hover:text-pink-400 transition-colors"
        href={config.BLUESKY_LINK}
        target="_blank"
      >        
        <i class="fa-brands fa-bluesky"></i>
      </a>
      <a
        aria-label="Instagram"
        class="hover:text-pink-400 transition-colors"
        href={config.INSTAGRAM_LINK}
        target="_blank"
      >
        <i class="fa-brands fa-instagram"></i>
      </a>
      <a
        aria-label="Flickr"
        class="hover:text-pink-400 transition-colors"
        href={config.FLICKR_LINK}
        target="_blank"
      >
        <i class="fa-brands fa-flickr"></i>
      </a>
    </div>

    <div class="lg:hidden">
      <button id="menu-toggle" class="text-white hover:text-pink-400">
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div
    id="mobile-menu"
    class="hidden lg:hidden glass-nav border-t border-white/10"
  >
    <nav class="container mx-auto px-6 py-4 flex flex-col gap-4">
      <a
        class="text-sm font-medium hover:text-pink-400 transition-colors py-2"
        href="/">Home</a
      >
      {
        confConfig.hasCfs ? (
          <a
            class="text-sm font-medium hover:text-pink-400 transition-colors py-2"
            href="/#call-for-speakers"
          >
            Call for Speakers
          </a>
        ) : (
          <>
            {confConfig.hasAnnouncedSpeakers && (
              <a
                class="text-sm font-medium hover:text-pink-400 transition-colors py-2"
                href="/#speakers"
              >
                Speakers
              </a>
            )}
            {confConfig.hasAnnouncedSchedule && (
              <a
                class="text-sm font-medium hover:text-pink-400 transition-colors py-2"
                href="/#schedule"
              >
                Schedule
              </a>
            )}
          </>
        )
      }
      <a
        class="text-sm font-medium hover:text-pink-400 transition-colors py-2"
        href="/#location">Location</a
      >
      <a
        class="text-sm font-medium hover:text-pink-400 transition-colors py-2"
        href="/#sponsors">Sponsors</a
      >
      <a
        class="text-sm font-medium hover:text-pink-400 transition-colors py-2"
        href="/code-of-conduct">Code of Conduct</a
      >
      <a
        class="text-sm font-medium hover:text-pink-400 transition-colors py-2"
        href="/gallery">Gallery</a
      >
      <a
        class="text-sm font-medium hover:text-pink-400 transition-colors py-2"
        href="/archive">Archive</a
      >

      <div class="flex items-center gap-4 pt-4 border-t border-white/10">
        <a
          aria-label="X (Twitter)"
          class="hover:text-pink-400 transition-colors"
          href={config.X_LINK}
          target="_blank"
        >
          <i class="fa-brands fa-x-twitter"></i>
        </a>
        <a
          aria-label="LinkedIn"
          class="hover:text-pink-400 transition-colors"
          href={config.LINKEDIN_LINK}
          target="_blank"
        >
          <i class="fa-brands fa-linkedin"></i>
        </a>
        <a
          aria-label="GitHub"
          class="hover:text-pink-400 transition-colors"
          href={config.GITHUB_LINK}
          target="_blank"
        >
          <i class="fa-brands fa-github"></i>
        </a>
        <a
          aria-label="BlueSky"
          class="hover:text-pink-400 transition-colors"
          href={config.BLUESKY_LINK}
          target="_blank"
        >
          <i class="fa-brands fa-bluesky"></i>
        </a>
        <a
          aria-label="Instagram"
          class="hover:text-pink-400 transition-colors"
          href={config.INSTAGRAM_LINK}
          target="_blank"
        >
          <i class="fa-brands fa-instagram"></i>
        </a>
        <a
          aria-label="Flickr"
          class="hover:text-pink-400 transition-colors"
          href={config.FLICKR_LINK}
          target="_blank"
        >
          <i class="fa-brands fa-flickr"></i>
        </a>
      </div>
    </nav>
  </div>
</nav>

<script>
  const menuToggle = document.getElementById("menu-toggle");
  const mobileMenu = document.getElementById("mobile-menu");

  menuToggle?.addEventListener("click", () => {
    mobileMenu?.classList.toggle("hidden");
  });
</script>
